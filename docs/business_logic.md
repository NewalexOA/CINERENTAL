# Бизнес-логика CINERENTAL

## Общая информация

CINERENTAL - это система управления арендой кинооборудования. Основные бизнес-процессы включают:
- Управление каталогом оборудования
- Работа с клиентами
- Управление бронированиями
- Обработка документов

## Управление каталогом оборудования

### Категории оборудования
- Каждая единица оборудования принадлежит к определенной категории
- Категории помогают организовать оборудование и упростить поиск
- Категории содержат название и описание
- Система отслеживает количество оборудования в каждой категории

### Оборудование
- Каждая единица оборудования имеет уникальный штрих-код
- Оборудование может быть в разных статусах:
  - AVAILABLE (доступно)
  - IN_USE (в использовании)
  - MAINTENANCE (на обслуживании)
  - BROKEN (сломано)
  - RETIRED (списано)
- Система отслеживает доступность оборудования на конкретные даты
- Для каждой единицы оборудования указывается суточная стоимость аренды

## Работа с клиентами

### Регистрация клиентов
- Каждый клиент должен предоставить:
  - ФИО
  - Email (уникальный)
  - Телефон (уникальный)
  - Паспортные данные
  - Адрес
- Опционально можно указать:
  - Название компании
  - Дополнительные заметки

### Статусы клиентов
- ACTIVE (активный)
- BLOCKED (заблокирован)
- INACTIVE (неактивный)

### Отслеживание активности
- Система отслеживает активные бронирования клиента
- Система отслеживает просроченные бронирования
- История бронирований сохраняется для анализа

## Управление бронированиями

### Создание бронирования
1. Проверка доступности оборудования на выбранные даты
2. Расчет общей стоимости аренды
3. Определение размера депозита
4. Создание бронирования в статусе PENDING

### Статусы бронирования
- PENDING (ожидает подтверждения)
- CONFIRMED (подтверждено)
- ACTIVE (активно)
- COMPLETED (завершено)
- CANCELLED (отменено)
- OVERDUE (просрочено)

### Статусы оплаты
- PENDING (ожидает оплаты)
- PARTIAL (частично оплачено)
- PAID (полностью оплачено)
- REFUNDED (возвращено)

### Процесс бронирования
1. Клиент выбирает оборудование и даты
2. Система проверяет доступность
3. Создается бронирование
4. Клиент вносит депозит
5. Бронирование подтверждается
6. При получении оборудования статус меняется на ACTIVE
7. При возврате оборудования статус меняется на COMPLETED

## Обработка документов

### Типы документов
- CONTRACT (договор аренды)
- INVOICE (счет)
- RECEIPT (квитанция)
- PASSPORT (скан паспорта)
- DAMAGE_REPORT (акт о повреждении)
- INSURANCE (страховка)
- OTHER (прочее)

### Статусы документов
- DRAFT (черновик)
- PENDING (на рассмотрении)
- APPROVED (одобрен)
- REJECTED (отклонен)
- EXPIRED (истек)
- CANCELLED (отменен)

### Процесс работы с документами
1. Создание документа в статусе DRAFT
2. Загрузка файла документа
3. Проверка и одобрение документа
4. Изменение статуса на APPROVED
5. Документ становится действительным

## Бизнес-правила

1. Оборудование
   - Нельзя забронировать недоступное оборудование
   - Нельзя забронировать оборудование на уже занятые даты
   - Оборудование со статусом BROKEN или RETIRED нельзя забронировать

2. Клиенты
   - Email и телефон должны быть уникальными
   - Заблокированные клиенты не могут создавать новые бронирования
   - Клиенты с просроченными бронированиями не могут создавать новые

3. Бронирования
   - Депозит обязателен для подтверждения бронирования
   - Нельзя изменить даты на уже занятые
   - Отмена бронирования возможна только до его начала
   - Возврат депозита зависит от времени до начала бронирования

4. Документы
   - Договор обязателен для каждого бронирования
   - Документы в статусе DRAFT можно редактировать
   - Одобренные документы нельзя изменять
   - Каждый документ связан с конкретным бронированием
