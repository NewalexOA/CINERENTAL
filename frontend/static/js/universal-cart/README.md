# Universal Cart - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–æ—Ä–∑–∏–Ω–∞ –¥–ª—è ACT-Rental

## üìñ –û–±–∑–æ—Ä

Universal Cart - —ç—Ç–æ –≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä–∑–∏–Ω—ã –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö —Ä–µ–∂–∏–º–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: **floating overlay** (–ø–ª–∞–≤–∞—é—â–µ–µ –æ–∫–Ω–æ) –∏ **embedded inline** (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±–ª–æ–∫). –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –∏–ª–∏ —Å–∫–∞–Ω–µ—Ä, —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–î–≤–∞ —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è**: floating overlay –∏ embedded inline
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞** –ø–æ –Ω–∞–ª–∏—á–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- ‚úÖ **localStorage persistence** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ —Ç–∏–ø—ã –∫–æ—Ä–∑–∏–Ω** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü/–æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è** –∏ —Å–∫–∞–Ω–µ—Ä–æ–º —à—Ç—Ä–∏—Ö-–∫–æ–¥–æ–≤
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º** —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- ‚úÖ **–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–π –∫–æ—Ä–∑–∏–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç
- ‚úÖ **Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
frontend/static/js/universal-cart/
‚îú‚îÄ‚îÄ index.js                    # üöÄ –ì–ª–∞–≤–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ –∏ –∞–≤—Ç–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ cart-ui.js                  # üéõÔ∏è UI –∫–ª–∞—Å—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π embedded/floating —Ä–µ–∂–∏–º–æ–≤
‚îú‚îÄ‚îÄ core/                       # üèóÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ universal-cart.js       # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫–æ—Ä–∑–∏–Ω—ã (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
‚îÇ   ‚îî‚îÄ‚îÄ cart-storage.js         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ localStorage —Å compression
‚îú‚îÄ‚îÄ ui/                         # üé® UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ cart-templates.js       # HTML —à–∞–±–ª–æ–Ω—ã –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ cart-renderer.js        # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
‚îÇ   ‚îî‚îÄ‚îÄ cart-dialogs.js         # –ú–æ–¥–∞–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ handlers/                   # ‚ö° –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ cart-event-handler.js   # –°–æ–±—ã—Ç–∏—è UI –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
‚îú‚îÄ‚îÄ config/                     # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ cart-configs.js         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∏–ø–æ–≤ –∫–æ—Ä–∑–∏–Ω (PROJECT_VIEW, etc.)
‚îú‚îÄ‚îÄ integration/                # üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ cart-integration.js     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å project-equipment –ø–æ–∏—Å–∫–æ–º
‚îî‚îÄ‚îÄ tests/                      # üß™ –¢–µ—Å—Ç—ã
    ‚îî‚îÄ‚îÄ universal-cart.test.js  # Unit —Ç–µ—Å—Ç—ã
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **UniversalCart** (core/universal-cart.js)

- –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –∫–æ—Ä–∑–∏–Ω—ã
- –ú–µ—Ç–æ–¥—ã: `addItem()`, `removeItem()`, `updateQuantity()`, `clear()`
- Event emitter –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

#### 2. **CartUI** (cart-ui.js)

- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **Embedded mode**: –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±–ª–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–µ–∫—Ç–∞
- **Floating mode**: –ø–ª–∞–≤–∞—é—â–µ–µ overlay –æ–∫–Ω–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –ø–æ –Ω–∞–ª–∏—á–∏—é `#universalCartContainer`
- –ú–µ—Ç–æ–¥—ã: `init()`, `show()`, `hide()`, `render()`

#### 3. **CartStorage** (core/cart-storage.js)

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ localStorage —Å unique keys –ø–æ —Ç–∏–ø—É –∫–æ—Ä–∑–∏–Ω—ã
- –ö–æ–º–ø—Ä–µ—Å—Å–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### 4. **CartEventHandler** (handlers/cart-event-handler.js)

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π UI (–∫–ª–∏–∫–∏, –≤–≤–æ–¥, drag&drop)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –¥–ª—è embedded/floating —Ä–µ–∂–∏–º–æ–≤
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Å–∫—Ä—ã—Ç–∏—è –≤ embedded —Ä–µ–∂–∏–º–µ

#### 5. **CartIntegration** (integration/cart-integration.js)

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–æ–≤–æ–≥–æ –≤—ã–±–æ—Ä–∞ —á–µ—Ä–µ–∑ —á–µ–∫–±–æ–∫—Å—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å–∫–∞–Ω–µ—Ä–æ–º —à—Ç—Ä–∏—Ö-–∫–æ–¥–æ–≤

## üé® –†–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 1. Embedded Mode (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π)

```html
<!-- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–µ–∫—Ç–∞ –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏ -->
<div class="card mb-4 universal-cart-hidden" id="universalCartContainer">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="card-title mb-0">
            <i class="fas fa-shopping-cart me-2"></i>
            –ö–æ—Ä–∑–∏–Ω–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
        </h5>
        <div class="d-flex align-items-center">
            <span class="badge bg-primary me-3" id="cartItemCount">0 –ø–æ–∑–∏—Ü–∏–π</span>
            <button class="btn-close" id="closeCartBtn" title="–°–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É"></button>
        </div>
    </div>
    <div class="card-body">
        <div id="cartContent"><!-- Cart items here --></div>
        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
            <button type="button" class="btn btn-outline-secondary" id="clearCartBtn">
                –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
            </button>
            <button type="button" class="btn btn-primary" id="addCartToProjectBtn">
                –î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç
            </button>
        </div>
    </div>
</div>
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ embedded —Ä–µ–∂–∏–º–∞:**

- –ö–æ—Ä–∑–∏–Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –ø–æ—Ç–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–µ —Å–∫—Ä—ã–≤–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É –ø–æ–ª–Ω–æ—Å—Ç—å—é (–æ—Å—Ç–∞–µ—Ç—Å—è –≤ DOM)
- –°–æ–±—ã—Ç–∏—è "–∫–ª–∏–∫ –≤–Ω–µ –∫–æ—Ä–∑–∏–Ω—ã" –∏ "Escape" –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

### 2. Floating Mode (–ø–ª–∞–≤–∞—é—â–∏–π)

- Overlay –æ–∫–Ω–æ –ø–æ–≤–µ—Ä—Ö –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ö–Ω–æ–ø–∫–∞-—Ç–æ–≥–≥–ª–µ—Ä –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è
- –ú–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –∫–ª–∏–∫–æ–º –≤–Ω–µ –∫–æ—Ä–∑–∏–Ω—ã –∏–ª–∏ Escape
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: fixed/absolute

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```javascript
// Universal Cart –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
// –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º –ø–æ URL –∏ –Ω–∞–ª–∏—á–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

// –î–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ (/projects/\d+) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è PROJECT_VIEW_CONFIG
// –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω #universalCartContainer - –≤–∫–ª—é—á–∞–µ—Ç—Å—è embedded —Ä–µ–∂–∏–º
```

### –†—É—á–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```javascript
// –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è
import './universal-cart/index.js';

// –î–æ—Å—Ç—É–ø –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É —á–µ—Ä–µ–∑ window.universalCart
if (window.universalCart) {
    // –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
    window.universalCart.addItem({
        id: '123',
        name: 'Canon EOS R5',
        barcode: 'CAM001',
        category: '–ö–∞–º–µ—Ä—ã',
        serial_number: 'R5001',
        quantity: 1
    });

    // –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—É
    window.universalCart.ui.show();
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

```javascript
// –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
function addSelectedEquipmentToCart() {
    const selectedRows = document.querySelectorAll('input[name="equipment_ids"]:checked');
    selectedRows.forEach(checkbox => {
        const equipmentData = extractEquipmentDataFromRow(checkbox.closest('tr'));
        window.universalCart.addItem(equipmentData);
    });
}
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –¢–∏–ø—ã –∫–æ—Ä–∑–∏–Ω (config/cart-configs.js)

#### PROJECT_VIEW_CONFIG

```javascript
const PROJECT_VIEW_CONFIG = {
    type: 'project_view',
    name: '–î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç',

    // Capacity settings
    maxItems: 50,
    maxQuantityPerItem: 10,

    // Storage settings
    enableStorage: true,
    autoSave: true,
    storageKey: 'act_rental_project_cart',

    // UI settings
    showQuantityControls: true,
    showRemoveButtons: true,
    showClearButton: true,
    showToggleButton: false,  // No toggle in embedded mode

    // Behavior settings
    allowDuplicates: false,
    autoShowOnAdd: true,
    hideOnEmpty: false,  // For debugging - normally true
    confirmBeforeClear: true,

    // Validation rules
    validation: {
        required: ['id', 'name'],
        unique: 'id',
        maxQuantity: 10
    },

    // UI text customization
    text: {
        title: '–ö–æ—Ä–∑–∏–Ω–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è',
        emptyMessage: '–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞',
        addButton: '–î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç',
        clearButton: '–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É',
        removeButton: '–£–¥–∞–ª–∏—Ç—å',
        quantityLabel: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ',
        totalLabel: '–í—Å–µ–≥–æ –ø–æ–∑–∏—Ü–∏–π'
    }
};
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ—Ä–∑–∏–Ω—ã

```javascript
// –í index.js
function detectCartType() {
    const currentPath = window.location.pathname;

    // Project view page
    if (currentPath.match(/\/projects\/\d+$/)) {
        return 'project_view';
    }

    // Equipment list page
    if (currentPath.includes('/equipment')) {
        return 'equipment_list';
    }

    return 'default';
}
```

## üéõÔ∏è API Reference

### UniversalCart Methods

- `addItem(item)` - –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
- `removeItem(itemId)` - —É–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
- `updateQuantity(itemId, quantity)` - –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `getItem(itemId)` - –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä –ø–æ ID
- `getItems()` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
- `getItemCount()` - –ø–æ–ª—É—á–∏—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `clear()` - –æ—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
- `on(event, callback)` - –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ

### CartUI Methods

- `init()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI
- `show()` - –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ—Ä–∑–∏–Ω—É
- `hide()` - —Å–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É
- `toggle()` - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å
- `render()` - –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
- `showConfirmDialog(options)` - –ø–æ–∫–∞–∑–∞—Ç—å –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- `destroy()` - –æ—á–∏—Å—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã

### –°–æ–±—ã—Ç–∏—è

- `itemAdded` - —Ç–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É
- `itemRemoved` - —Ç–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
- `itemUpdated` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–æ
- `cleared` - –∫–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–µ–Ω–∞
- `error` - –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞

## üêõ –û—Ç–ª–∞–¥–∫–∞

### Debug —Ä–µ–∂–∏–º

```javascript
// –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω debug: true
const config = {
    debug: true,  // –í–∫–ª—é—á–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    // ...
};
```

### –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

- `[UniversalCart]` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
- `[CartUI]` - UI –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- `[CartStorage]` - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å localStorage
- `[CartEventHandler]` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- `[CartIntegration]` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º/—Å–∫–∞–Ω–µ—Ä–æ–º

### –ò–Ω—Å–ø–µ–∫—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

```javascript
// –í DevTools Console
console.log('Cart instance:', window.universalCart);
console.log('Cart items:', window.universalCart.getItems());
console.log('Cart UI debug:', window.universalCart.ui.getDebugInfo());
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**v2.1.0 - Embedded Mode Support**:

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ embedded —Ä–µ–∂–∏–º–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –ø–æ –Ω–∞–ª–∏—á–∏—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–º —Å–∫—Ä—ã—Ç–∏–µ–º –≤ embedded —Ä–µ–∂–∏–º–µ
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å project-equipment –ø–æ–∏—Å–∫–æ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã debug –ª–æ–≥–∏ –¥–ª—è troubleshooting

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

- üêõ Fix: `CartUI.init()` –Ω–µ –≤—ã–∑—ã–≤–∞–ª—Å—è –∏–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ - –¥–æ–±–∞–≤–ª–µ–Ω `await ui.init()`
- üêõ Fix: Outside click –∏ Escape —Å–∫—Ä—ã–≤–∞–ª–∏ embedded –∫–æ—Ä–∑–∏–Ω—É - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ `isEmbedded`
- üêõ Fix: –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –≤—ã–∑—ã–≤–∞–ª–∞ `window.universalCart.hide()` –≤–º–µ—Å—Ç–æ `ui.hide()`
- üêõ Fix: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `hideOnEmpty: true` —Å–∫—Ä—ã–≤–∞–ª–∞ –∫–æ—Ä–∑–∏–Ω—É —Å —Ç–æ–≤–∞—Ä–∞–º–∏

### –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] **Web Components** - –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] **TypeScript** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ IDE
- [ ] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è unit –∏ integration —Ç–µ—Å—Ç–∞–º–∏
- [ ] **Lazy Loading** - –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- [ ] **Accessibility** - —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ screen readers –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

---

**–ê–≤—Ç–æ—Ä**: ACT-Rental Team
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 2025-06-26
**–í–µ—Ä—Å–∏—è**: 2.1.0 (Embedded Mode Support)
